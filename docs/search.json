[{"path":"https://michaletzlab.github.io/balancR/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Milos Simovic. Author, maintainer. Sean T. Michaletz. Author.","code":""},{"path":"https://michaletzlab.github.io/balancR/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Simovic M, Michaletz S (2025). “Harnessing Full Power Data Characterise Biological Scaling Relationships.” Global Ecology Biogeography, 34(2), e70019. doi:10.1111/geb.70019, https://doi.org/10.1111/geb.70019.","code":"@Article{,   title = {Harnessing the Full Power of Data to Characterise Biological Scaling Relationships},   author = {M Simovic and ST Michaletz},   year = {2025},   journal = {Global Ecology and Biogeography},   volume = {34},   number = {2},   pages = {e70019},   doi = {10.1111/geb.70019},   url = {https://doi.org/10.1111/geb.70019}, }"},{"path":"https://michaletzlab.github.io/balancR/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2025 Milos Simovic Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://michaletzlab.github.io/balancR/reference/balanced_scaling.html","id":null,"dir":"Reference","previous_headings":"","what":"Data balancing across log- or linear-scaled bins and fitting via SMA regression — balanced_scaling","title":"Data balancing across log- or linear-scaled bins and fitting via SMA regression — balanced_scaling","text":"balanced_scaling() partitions data set equal‑width bins log linear axis, upsamples bin contain number observations, fits standardised major axis (SMA) model every balanced bootstrap replicate.","code":""},{"path":"https://michaletzlab.github.io/balancR/reference/balanced_scaling.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Data balancing across log- or linear-scaled bins and fitting via SMA regression — balanced_scaling","text":"","code":"balanced_scaling(   data,   var_x,   var_y,   min_per_bin = 100,   n_boot = 100,   base = 10,   seed = 1,   model_type = c(\"power\", \"exp\", \"linear\") )"},{"path":"https://michaletzlab.github.io/balancR/reference/balanced_scaling.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Data balancing across log- or linear-scaled bins and fitting via SMA regression — balanced_scaling","text":"data data frame tibble. var_x, var_y Unquoted column names predictor response. min_per_bin Minimum number observations per bin. Default 100. n_boot Number bootstrap iterations.  Default 100. base Logarithmic base scale = \"log\". Default 10. seed Base seed reproducibility; iteration uses seed + .  Set NULL seeding. model_type \"power\" (default), \"exp\", \"linear\".","code":""},{"path":"https://michaletzlab.github.io/balancR/reference/balanced_scaling.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Data balancing across log- or linear-scaled bins and fitting via SMA regression — balanced_scaling","text":"list : stats Regression statistics, including r², p-value, slope, intercept (.e., elevation). first_boot first bootstrap-balanced dataset generated via function. Useful plotting statistical comparisons original, imbalanced data. bins exact output create_bins() — list data (binned input rows) summary (one‑row‑per‑bin metadata including bin_width, bin_class, bootstrap_count, etc.).","code":""},{"path":"https://michaletzlab.github.io/balancR/reference/balanced_scaling.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Data balancing across log- or linear-scaled bins and fitting via SMA regression — balanced_scaling","text":"Three model types supported: \"power\" Power‑law model y =  xᵇ (log10–log10). \"exp\" Exponential model y =  exp(b x) (log–linear). \"linear\" Ordinary linear model y = + b x.","code":""},{"path":"https://michaletzlab.github.io/balancR/reference/balanced_scaling.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Data balancing across log- or linear-scaled bins and fitting via SMA regression — balanced_scaling","text":"Simovic, M., & Michaletz, S.T. (2025). Harnessing Full Power Data Characterise Biological Scaling Relationships. Global Ecology Biogeography, 34(2). https://doi.org/10.1111/geb.70019 Warton, D.., Duursma, R.., Falster, D.S., & Taskinen, S. (2012). smatr 3 – R package estimation inference allometric lines. Methods Ecology Evolution, 3(2), 257–259. https://doi.org/10.1111/j.2041-210X.2011.00153.x","code":""},{"path":[]},{"path":"https://michaletzlab.github.io/balancR/reference/balanced_scaling.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Data balancing across log- or linear-scaled bins and fitting via SMA regression — balanced_scaling","text":"Simovic, M. milos.simovic@botany.ubc.ca; Michaletz, S.T. sean.michaletz@ubc.ca","code":""},{"path":"https://michaletzlab.github.io/balancR/reference/balanced_scaling.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Data balancing across log- or linear-scaled bins and fitting via SMA regression — balanced_scaling","text":"","code":"if (requireNamespace(\"smatr\", quietly = TRUE)) {   data(xylem_scaling_simulation_dataset)   res <- balanced_scaling(     data        = xylem_scaling_simulation_dataset,     var_x       = L,     var_y       = DAVG,     min_per_bin = 100,     n_boot      = 10,     seed        = 1,     model_type  = \"power\"   )   head(res$stats) } #>   iter     slope  slope_lo  slope_hi intercept intercept_lo intercept_hi #> 1    1 0.2294432 0.2291341 0.2297526 0.9566411    0.9562315    0.9570507 #> 2    2 0.2294725 0.2291634 0.2297820 0.9567315    0.9563217    0.9571413 #> 3    3 0.2294092 0.2291003 0.2297186 0.9567903    0.9563808    0.9571998 #> 4    4 0.2294480 0.2291389 0.2297574 0.9566746    0.9562649    0.9570843 #> 5    5 0.2294091 0.2291002 0.2297184 0.9570781    0.9566687    0.9574876 #> 6    6 0.2294702 0.2291611 0.2297798 0.9571014    0.9566916    0.9575112 #>          r2 pval       n #> 1 0.2698124    0 1544056 #> 2 0.2696528    0 1544056 #> 3 0.2701138    0 1544056 #> 4 0.2698243    0 1544056 #> 5 0.2704510    0 1544056 #> 6 0.2694203    0 1544056"},{"path":"https://michaletzlab.github.io/balancR/reference/compare_coefficients.html","id":null,"dir":"Reference","previous_headings":"","what":"Compare SMA slopes or elevations between original and balanced data — compare_coefficients","title":"Compare SMA slopes or elevations between original and balanced data — compare_coefficients","text":"compare_coefficients() binds original data set balanced/bootstrapped counterpart, labels Dataset factor, fits grouped standardised major axis (SMA) model test whether slope elevation (intercept) differs groups, whether coefficient differs user‑supplied reference value.","code":""},{"path":"https://michaletzlab.github.io/balancR/reference/compare_coefficients.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compare SMA slopes or elevations between original and balanced data — compare_coefficients","text":"","code":"compare_coefficients(   original,   balanced,   var_x,   var_y,   which_coefficient = c(\"slope\", \"intercept\"),   model_type = c(\"power\", \"exp\", \"linear\"),   test_value = NA )"},{"path":"https://michaletzlab.github.io/balancR/reference/compare_coefficients.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compare SMA slopes or elevations between original and balanced data — compare_coefficients","text":"original Data frame unscaled data. balanced Data frame balanced data (e.g. balanced_scaling(... )$first_boot). var_x, var_y Unquoted column names predictor response. which_coefficient \"slope\" (default) \"intercept\". model_type \"power\" (default), \"exp\", \"linear\". test_value Numeric; value compare chosen coefficient (optional).","code":""},{"path":"https://michaletzlab.github.io/balancR/reference/compare_coefficients.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compare SMA slopes or elevations between original and balanced data — compare_coefficients","text":"\"sma.summary\" object (see smatr::sma()).","code":""},{"path":"https://michaletzlab.github.io/balancR/reference/compare_coefficients.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Compare SMA slopes or elevations between original and balanced data — compare_coefficients","text":"Simovic, M., & Michaletz, S.T. (2025). Harnessing Full Power Data Characterise Biological Scaling Relationships. Global Ecology Biogeography, 34(2). https://doi.org/10.1111/geb.70019 Warton, D.., Duursma, R.., Falster, D.S., & Taskinen, S. (2012). smatr 3 – R package estimation inference allometric lines. Methods Ecology Evolution, 3(2), 257–259. https://doi.org/10.1111/j.2041-210X.2011.00153.x","code":""},{"path":"https://michaletzlab.github.io/balancR/reference/compare_coefficients.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Compare SMA slopes or elevations between original and balanced data — compare_coefficients","text":"Simovic, M. milos.simovic@botany.ubc.ca; Michaletz, S.T. sean.michaletz@ubc.ca","code":""},{"path":"https://michaletzlab.github.io/balancR/reference/compare_coefficients.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Compare SMA slopes or elevations between original and balanced data — compare_coefficients","text":"","code":"if (requireNamespace(\"smatr\", quietly = TRUE)) {   data(xylem_scaling_simulation_dataset)    bal <- balanced_scaling(     data        = xylem_scaling_simulation_dataset,     var_x       = L,     var_y       = DAVG,     min_per_bin = 100,     n_boot      = 1,     seed        = 1,     model_type  = \"power\"   )$first_boot    #Compare slopes between balanced and imbalanced datasets    compare_coefficients(     original  = xylem_scaling_simulation_dataset,     balanced  = bal,     var_x     = L,     var_y     = DAVG,     which_coefficient = \"slope\",     model_type        = \"power\"   )    #Test if balancing data results in better agreement with WBE model    compare_coefficients(     original  = xylem_scaling_simulation_dataset,     balanced  = bal,     var_x     = L,     var_y     = DAVG,     which_coefficient = \"slope\",     model_type        = \"power\",     test_value        = 0.25   ) } #> Call: smatr::sma(formula = fmla, data = combined, log = \"\", method = \"SMA\",  #>     slope.test = slope_test, elev.test = elev_test)  #>  #> Fit using Standardized Major Axis  #>  #> ------------------------------------------------------------ #> Results of comparing lines among groups. #>  #> H0 : slopes are equal. #> Likelihood ratio statistic : 256500 with 1 degrees of freedom #> P-value : < 2.22e-16  #> ------------------------------------------------------------ #>  #> Coefficients by group in variable \"Dataset\" #>  #> Group: Balanced  #>             elevation     slope #> estimate    0.9566411 0.2294432 #> lower limit 0.9562315 0.2291341 #> upper limit 0.9570507 0.2297526 #>  #> H0 : variables uncorrelated. #> R-squared : 0.2698124  #> P-value : < 2.22e-16  #>  #> Group: Original  #>             elevation     slope #> estimate     0.773043 0.5041909 #> lower limit  0.772178 0.5028917 #> upper limit  0.773908 0.5054936 #>  #> H0 : variables uncorrelated. #> R-squared : 0.2341062  #> P-value : < 2.22e-16  #>  #>  #> Call: smatr::sma(formula = fmla, data = combined, log = \"\", method = \"SMA\",  #>     slope.test = slope_test, elev.test = elev_test)  #>  #> Fit using Standardized Major Axis  #>  #> ------------------------------------------------------------ #> Results of comparing lines among groups. #>  #> H0 : slopes are equal. #> Likelihood ratio statistic : 256500 with 1 degrees of freedom #> P-value : < 2.22e-16  #> ------------------------------------------------------------ #>  #> H0 : common slope not different from 0.25  #> Likelihood ratio statistic = 264100 with 2 degrees of freedom under H0 #> P-value : < 2.22e-16  #>  #> Coefficients by group in variable \"Dataset\" #>  #> Group: Balanced  #>             elevation     slope #> estimate    0.9566411 0.2294432 #> lower limit 0.9562315 0.2291341 #> upper limit 0.9570507 0.2297526 #>  #> H0 : variables uncorrelated. #> R-squared : 0.2698124  #> P-value : < 2.22e-16  #>  #> H0 : slope not different from 0.25  #> Test statistic: r= -0.1 with 1544054 degrees of freedom under H0 #> P-value : < 2.22e-16  #>  #> Group: Original  #>             elevation     slope #> estimate     0.773043 0.5041909 #> lower limit  0.772178 0.5028917 #> upper limit  0.773908 0.5054936 #>  #> H0 : variables uncorrelated. #> R-squared : 0.2341062  #> P-value : < 2.22e-16  #>  #> H0 : slope not different from 0.25  #> Test statistic: r= 0.6559 with 441902 degrees of freedom under H0 #> P-value : < 2.22e-16  #>  #>"},{"path":"https://michaletzlab.github.io/balancR/reference/create_bins.html","id":null,"dir":"Reference","previous_headings":"","what":"Flexible equal-width binning with a minimum sample size — create_bins","title":"Flexible equal-width binning with a minimum sample size — create_bins","text":"create_bins() finds largest number equal-width bins (log linear axis) every bin still contains least min_per_bin observations. reports, bin, many additional rows need bootstrapped bins end size.","code":""},{"path":"https://michaletzlab.github.io/balancR/reference/create_bins.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Flexible equal-width binning with a minimum sample size — create_bins","text":"","code":"create_bins(   data,   var,   min_per_bin = 100,   scale = \"log\",   base = 10,   right = TRUE )"},{"path":"https://michaletzlab.github.io/balancR/reference/create_bins.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Flexible equal-width binning with a minimum sample size — create_bins","text":"data data frame tibble. var Unquoted numeric column bin (tidy-eval). min_per_bin Minimum number observations per bin. Default 100. scale Binning scale: \"log\" (default) \"linear\". base Logarithmic base scale = \"log\". Default 10. right Logical; bins right-closed? Default TRUE.","code":""},{"path":"https://michaletzlab.github.io/balancR/reference/create_bins.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Flexible equal-width binning with a minimum sample size — create_bins","text":"list two tibbles: data original data added bin_class column. summary Per-bin counts, rows bootstrap (bootstrap_count), bin width.","code":""},{"path":"https://michaletzlab.github.io/balancR/reference/create_bins.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Flexible equal-width binning with a minimum sample size — create_bins","text":"Simovic M., & Michaletz S.T. (2025). Harnessing Full Power Data Characterise Biological Scaling Relationships. Global Ecology Biogeography, 34(2). https://doi.org/10.1111/geb.70019","code":""},{"path":[]},{"path":"https://michaletzlab.github.io/balancR/reference/create_bins.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Flexible equal-width binning with a minimum sample size — create_bins","text":"Simovic, M. milos.simovic@botany.ubc.ca; Michaletz, S.T. sean.michaletz@ubc.ca","code":""},{"path":"https://michaletzlab.github.io/balancR/reference/create_bins.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Flexible equal-width binning with a minimum sample size — create_bins","text":"","code":"data(xylem_scaling_simulation_dataset)  bins <- create_bins(   data         = xylem_scaling_simulation_dataset,   var          = L,   min_per_bin  = 100,   scale        = \"log\",   base         = 10 )  head(bins$data)      # Binned dataset #> # A tibble: 6 × 4 #>   Organ      L  DAVG bin_class                           #>   <chr>  <dbl> <dbl> <fct>                               #> 1 Branch 0.465  1.96 0.347372278686722 - 1.0296528323398 #> 2 Branch 0.790  1.97 0.347372278686722 - 1.0296528323398 #> 3 Branch 0.720  1.96 0.347372278686722 - 1.0296528323398 #> 4 Branch 0.465  2.01 0.347372278686722 - 1.0296528323398 #> 5 Branch 0.465  1.99 0.347372278686722 - 1.0296528323398 #> 6 Branch 0.720  1.99 0.347372278686722 - 1.0296528323398 bins$summary         # Counts & bootstrap totals #> # A tibble: 8 × 4 #>   bin_class                             original_count bootstrap_count bin_width #>   <fct>                                          <int>           <int>     <dbl> #> 1 0.00449998963837901 - 0.013338536290…           1009          191998     0.472 #> 2 0.0133385362903635 - 0.0395370111931…           1068          191939     0.472 #> 3 0.0395370111931877 - 0.1171924130250…           1625          191382     0.472 #> 4 0.117192413025076 - 0.347372278686722          12393          180614     0.472 #> 5 0.347372278686722 - 1.0296528323398            97276           95731     0.472 #> 6 1.0296528323398 - 3.05201370458668            193007               0     0.472 #> 7 3.05201370458668 - 9.04653234607028            53084          139923     0.472 #> 8 9.04653234607028 - 26.8150617438916            82442          110565     0.472"},{"path":"https://michaletzlab.github.io/balancR/reference/plot_balanced_scaling.html","id":null,"dir":"Reference","previous_headings":"","what":"Visual comparison of original and balanced data using scatterplots and marginal histograms — plot_balanced_scaling","title":"Visual comparison of original and balanced data using scatterplots and marginal histograms — plot_balanced_scaling","text":"plot_balanced_scaling() juxtaposes raw data bootstrap‑balanced sample returned balanced_scaling(). panel shows scatterplot overlaid SMA line wrapped marginal histograms reveal resampling fills sparse bins.","code":""},{"path":"https://michaletzlab.github.io/balancR/reference/plot_balanced_scaling.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Visual comparison of original and balanced data using scatterplots and marginal histograms — plot_balanced_scaling","text":"","code":"plot_balanced_scaling(   original_df,   balanced_df,   var_x,   var_y,   model_type = c(\"power\", \"exp\", \"linear\"),   binwidth,   base = 10,   tag_letters = c(\"a\", \"b\"),   x_lab = NULL,   y_lab = NULL )"},{"path":"https://michaletzlab.github.io/balancR/reference/plot_balanced_scaling.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Visual comparison of original and balanced data using scatterplots and marginal histograms — plot_balanced_scaling","text":"original_df data frame original observations. balanced_df data frame returned balanced_scaling(), must contain logical column Resampled. var_x, var_y Unquoted column names predictor response. model_type \"power\" (default), \"exp\", \"linear\". binwidth Histogram bin width (binning scale). Can called bin summary (see \"Examples\"). base Logarithmic base scale = \"log\". Default 10. tag_letters Two letters used label panels. x_lab, y_lab Optional axis titles.","code":""},{"path":"https://michaletzlab.github.io/balancR/reference/plot_balanced_scaling.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Visual comparison of original and balanced data using scatterplots and marginal histograms — plot_balanced_scaling","text":"Invisibly returns grob can printed saved.","code":""},{"path":"https://michaletzlab.github.io/balancR/reference/plot_balanced_scaling.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Visual comparison of original and balanced data using scatterplots and marginal histograms — plot_balanced_scaling","text":"Simovic, M., & Michaletz, S.T. (2025). Harnessing Full Power Data Characterise Biological Scaling Relationships. Global Ecology Biogeography, 34(2). https://doi.org/10.1111/geb.70019","code":""},{"path":"https://michaletzlab.github.io/balancR/reference/plot_balanced_scaling.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Visual comparison of original and balanced data using scatterplots and marginal histograms — plot_balanced_scaling","text":"Simovic, M. milos.simovic@botany.ubc.ca; Michaletz, S.T. sean.michaletz@ubc.ca","code":""},{"path":"https://michaletzlab.github.io/balancR/reference/plot_balanced_scaling.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Visual comparison of original and balanced data using scatterplots and marginal histograms — plot_balanced_scaling","text":"","code":"library(ggplot2) #> Warning: package 'ggplot2' was built under R version 4.4.3  data(xylem_scaling_simulation_dataset)  res<- balanced_scaling(   data        = xylem_scaling_simulation_dataset,   var_x       = L,   var_y       = DAVG,   min_per_bin = 100,   n_boot      = 10,   seed        = 1,   model_type  = \"power\" ) plot_balanced_scaling(   original_df = xylem_scaling_simulation_dataset,   balanced_df = res$first_boot,   var_x       = L,   var_y       = DAVG,   model_type  = \"power\",   binwidth    = res$bins$summary$bin_width[1],   base        = 10,   tag_letters = c(\"a\", \"b\"),   x_lab       = NULL,   y_lab       = NULL ) #> Registered S3 methods overwritten by 'ggpp': #>   method                  from    #>   heightDetails.titleGrob ggplot2 #>   widthDetails.titleGrob  ggplot2"},{"path":"https://michaletzlab.github.io/balancR/reference/xylem_scaling_simulation_dataset.html","id":null,"dir":"Reference","previous_headings":"","what":"Xylem Conduit Scaling Data — xylem_scaling_simulation_dataset","title":"Xylem Conduit Scaling Data — xylem_scaling_simulation_dataset","text":"data frame used example balancR, representing simulated xylem conduit measurements. data set used generate Fig. 3 doi:10.1111/geb.70019 .","code":""},{"path":"https://michaletzlab.github.io/balancR/reference/xylem_scaling_simulation_dataset.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Xylem Conduit Scaling Data — xylem_scaling_simulation_dataset","text":"","code":"xylem_scaling_simulation_dataset"},{"path":"https://michaletzlab.github.io/balancR/reference/xylem_scaling_simulation_dataset.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Xylem Conduit Scaling Data — xylem_scaling_simulation_dataset","text":"data frame 441,904 rows 3 variables: Organ Plant organ xylem conduits measured (e.g., stem, leaf) L Distance leaf tip (m) DAVG Xylem conduit diameter (µm)","code":""},{"path":"https://michaletzlab.github.io/balancR/reference/xylem_scaling_simulation_dataset.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Xylem Conduit Scaling Data — xylem_scaling_simulation_dataset","text":"Generated via data-raw/build_xylem_scaling_dataset.R.","code":""}]
