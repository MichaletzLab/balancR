% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/compare_coefficients.R
\name{compare_coefficients}
\alias{compare_coefficients}
\title{Compare SMA slopes or elevations between original and balanced data}
\usage{
compare_coefficients(
  original,
  balanced,
  var_x,
  var_y,
  which_coefficient = c("slope", "intercept"),
  model_type = c("power", "exp", "linear"),
  test_value = NA
)
}
\arguments{
\item{original}{Data frame with the \strong{unscaled} data.}

\item{balanced}{Data frame with the balanced data (e.g.
\code{balanced_scaling(... )$first_boot}).}

\item{var_x, var_y}{Unquoted column names for the predictor and response.}

\item{which_coefficient}{\code{"slope"} (default) or \code{"intercept"}.}

\item{model_type}{\code{"power"} (default), \code{"exp"}, or \code{"linear"}.}

\item{test_value}{Numeric; value to compare the chosen coefficient
against (optional).}
}
\value{
A \code{"sma.summary"} object (see \code{\link[smatr:sma]{smatr::sma()}}).
}
\description{
\code{compare_coefficients()} binds an \strong{original} data set to its
\strong{balanced/bootstrapped} counterpart, labels each with a \code{Dataset}
factor, and fits a \emph{grouped} standardised major axis (SMA) model to test
whether the \strong{slope} or the \strong{elevation} (intercept) differs between
groups, and whether that coefficient differs from a user‑supplied
reference value.
}
\examples{
if (requireNamespace("smatr", quietly = TRUE)) {
  data(xylem_scaling_simulation_dataset)

  bal <- balanced_scaling(
    data        = xylem_scaling_simulation_dataset,
    var_x       = L,
    var_y       = DAVG,
    min_per_bin = 100,
    n_boot      = 1,
    seed        = 1,
    model_type  = "power"
  )$first_boot

  #Compare slopes between balanced and imbalanced datasets

  compare_coefficients(
    original  = xylem_scaling_simulation_dataset,
    balanced  = bal,
    var_x     = L,
    var_y     = DAVG,
    which_coefficient = "slope",
    model_type        = "power"
  )

  #Test if balancing data results in better agreement with WBE model

  compare_coefficients(
    original  = xylem_scaling_simulation_dataset,
    balanced  = bal,
    var_x     = L,
    var_y     = DAVG,
    which_coefficient = "slope",
    model_type        = "power",
    test_value        = 0.25
  )
}

}
\references{
Simovic, M., & Michaletz, S.T. (2025). \emph{Harnessing the Full Power of Data
to Characterise Biological Scaling Relationships.} \strong{Global Ecology and
Biogeography}, 34(2). \url{https://doi.org/10.1111/geb.70019}
Warton, D.I., Duursma, R.A., Falster, D.S., & Taskinen, S. (2012).
\emph{smatr 3 – an R package for estimation and inference about allometric
lines.} \strong{Methods in Ecology and Evolution}, 3(2), 257–259.
\url{https://doi.org/10.1111/j.2041-210X.2011.00153.x}
}
\author{
Simovic, M. \href{mailto:milos.simovic@botany.ubc.ca}{milos.simovic@botany.ubc.ca};
Michaletz, S.T. \href{mailto:sean.michaletz@ubc.ca}{sean.michaletz@ubc.ca}
}
